#ukazkovy recept pro zjisteni prumeru ze dvou cisel
LoadO2:
  store: "o2data"
  file: "./Data/2016-03-3606068384-4_2251_11_00_100001-01-s-mob.xml"
  information:
    - mobil
    - uctovano
    - uctovana_castka
    - sleva
    - treti_strana

LoadCSV:
  store: "users"
  file: "./Data/_20160404-AKTUALNI_seznam_MT.csv"
  type: "ssv"

DBJoin:
  store: "o2data"
  source: "users"
  pair:
    - mobil
    - MTC

Compute:
  source: "o2data"
  store: "zaplatit"
  calculate: "(uctovano - limit)"
  minimum: 0
  precision: 2

Compute:
  source: "o2data"
  store: "zaplatit"
  calculate: "(zaplatit + treti_strana)"
  minimum: 0
  precision: 2


#Filter:
#  source: "o2data"
#  condition: "(zaplatit <=limit_Kc) AND (treti_strana == 0)"

#Agregate:
#  store: "CUMUL_ZAPLATIT"
#  source: "o2data"
#  calculate: "zaplatit"
#  operation: "+"

#Filter:
#  source: "numbers"
#  condition: "first < 10"

ExportCSV:
  source: "o2data"
  file: "./nums.csv"
  columns:
    - ODB
    - Jmeno
    - mobil
    - uctovano
    - treti_strana
    - limit_Kc : limit
    - zaplatit
  type: "ssv"


Print:
  source: "o2data"

#Print:
#  source: "AVERAGE"